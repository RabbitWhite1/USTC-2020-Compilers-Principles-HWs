# HW4-Step1

# 1
请构造**两个**样例程序，分别展示各种`typeid`以及类型转换。要求所编写的程序尽量简单但体现多种情况，并且加上必要的注释。在文件`src/step1/test1.cpp`和`src/step1/test2.cpp`里完成上述两个程序。

见对应程序

# 2
> 你认为`Examples/typeid-s2.cpp`中的`printTypeinfo`函数的第2个参数的类型中的`B`可以改为`D`吗？这时程序编译和运行分别会有怎样的结果，如果要保证调用`printTypeinfo(const char *n, const D* pb)`是正确的，那么对第2个实参有何要求？

在不做其他任何修改的条件下, 这是**不允许的**, 编译时也会报错如下:
```
error: invalid conversion from ‘B*’ to ‘const D*’ [-fpermissive]
```
但如加上编译选项 `-fpermissive` 则能输出与之前输出一样的内容, 并且去调用fun()的时候, 看起来也没有什么问题.   

但实际上还是可能会有转换失败的问题的. 比如这里如果不是把`B`改为`D`, 而是改为`int`, 那就**完全是不允许**的了.

综上所述, 第二个问题也可以得到回答: 如果要保证调用正确, 对第二个实参的要求则是**必须和D有共同基类(或就是基类)**(或者说, 能够进行类型转换)